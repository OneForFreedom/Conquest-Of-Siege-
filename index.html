<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Conquest Of Siege</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="sword.png">
</head>
<body>
  <div class="top-bar">
    <button onclick="toggleTheme()">Appearance</button>
  </div>

  <h1>Conquest of Siege</h1>
  <h3>Soldiers in fleet: <span id="count"></span></h3>
  <h3>Castles conquered: <span id="rebirths">0</span></h3>
  <h3>Soldiers trained per second: <span id="tps">0</span></h3>
  <h3>Soldiers trained per click: <span id="tpc">1</span></h3>

  <img id="sword" src="sword.png" class="sword-img" alt="Epic sword" />

  <div id="message"></div>
  <button id="rebirthBtn" onclick="startMiniGameOverlay()" style="display:none;">Head to war? ⚔️</button>

  <div class="shop">
    <h2>Warrior training grounds</h2>
    <div class="shop-item" id="item0">Veteran Mentor +1 SPS REQ: <span id="price0">100 swords</span> <button onclick="buyItem(0)">Buy</button></div>
    <div class="shop-item" id="item1">Elite Battalion +10 SPS REQ: <span id="price1">500 swords</span> <button onclick="buyItem(1)">Buy</button></div>
    <div class="shop-item" id="item2">Tactical Regiment +50 SPS REQ: <span id="price2">2500 swords</span> <button onclick="buyItem(2)">Buy</button></div>
    <div class="shop-item" id="item3">War Academy +200 SPS REQ: <span id="price3">12000 swords</span> <button onclick="buyItem(3)">Buy</button></div>
    <div class="shop-item" id="item4">Fortress University +1000 SPS REQ: <span id="price4">60000 swords</span> <button onclick="buyItem(4)">Buy</button></div>
    <div class="shop-item" id="item5">Mechanized Drillbot +5000 SPS REQ: <span id="price5">300000 swords</span> <button onclick="buyItem(5)">Buy</button></div>
    <div class="shop-item" id="item6">Strategist Neural Chip +25000 SPS REQ: <span id="price6">1500000 swords</span> <button onclick="buyItem(6)">Buy</button></div>
    <div class="shop-item" id="item7">Spartan Conditioning +100000 SPS REQ: <span id="price7">7000000 swords</span> <button onclick="buyItem(7)">Buy</button></div>
  </div>

  <!-- Mini-Game Overlay -->
  <div id="miniGameOverlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:1000; text-align:center; padding-top:50px;">
    <div id="overlayContent" style="display:inline-block; background:#222; padding:20px; border-radius:12px; color:#FFDFA0;">
      <h2>Mini-Game Challenge!</h2>
      <p>Hold SPACE to move the yellow box right, release to move left.<br>
      Keep the box on the red line to fill the bar before time runs out!</p>
      <button id="startMiniBtn">Start</button>
      <canvas id="gameCanvas" width="800" height="60"></canvas>
      <div id="fillBarContainer" style="width:80%; height:20px; background:#444; margin:10px auto; border-radius:10px; overflow:hidden;">
        <div id="fillBar" style="width:0%; height:100%; background:limegreen;"></div>
      </div>
      <div id="timer">Time left: 30s</div>
      <div id="messageMini"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
